---
/**
 * CaseStudyHero - Immersive hero section for case studies
 * 
 * Features:
 * - Full-bleed project image with gradient overlay
 * - Animated title reveal
 * - Project metadata pills
 * - Scroll indicator
 * 
 * @example
 * <CaseStudyHero
 *   title="Reimagining DeFi"
 *   subtitle="A complete brand overhaul for Aave"
 *   client="Aave"
 *   heroImage="/images/work/aave-hero.jpg"
 *   services={['Brand Identity', 'UI/UX Design']}
 *   year="2024"
 * />
 */
interface Props {
  /** Project title */
  title: string;
  /** Short tagline */
  subtitle?: string;
  /** Client name */
  client: string;
  /** Hero background image */
  heroImage?: string;
  /** Services provided */
  services?: string[];
  /** Project year */
  year?: string;
  /** Project duration */
  timeline?: string;
  /** Industry/category */
  industry?: string;
  /** Show scroll indicator */
  showScrollIndicator?: boolean;
}

const {
  title,
  subtitle,
  client,
  heroImage,
  services = [],
  year,
  timeline,
  industry,
  showScrollIndicator = true,
} = Astro.props;
---

<section class="case-hero">
  <!-- Background Image with Overlay -->
  <div class="case-hero__bg">
    {heroImage ? (
      <img src={heroImage} alt={`${client} project`} class="case-hero__image" />
    ) : (
      <div class="case-hero__placeholder"></div>
    )}
    <div class="case-hero__overlay"></div>
    <div class="case-hero__noise"></div>
  </div>

  <!-- Content -->
  <div class="case-hero__content">
    <div class="case-hero__container">
      <!-- Meta Pills -->
      <div class="case-hero__meta">
        {client && (
          <span class="meta-pill meta-pill--primary">{client}</span>
        )}
        {year && (
          <span class="meta-pill">{year}</span>
        )}
        {industry && (
          <span class="meta-pill">{industry}</span>
        )}
      </div>

      <!-- Title -->
      <h1 class="case-hero__title">{title}</h1>

      <!-- Subtitle -->
      {subtitle && (
        <p class="case-hero__subtitle">{subtitle}</p>
      )}

      <!-- Services Tags -->
      {services.length > 0 && (
        <div class="case-hero__services">
          {services.map((service) => (
            <span class="service-tag">{service}</span>
          ))}
        </div>
      )}

      <!-- Quick Stats Row -->
      {timeline && (
        <div class="case-hero__stats">
          <div class="quick-stat">
            <span class="quick-stat__label">Timeline</span>
            <span class="quick-stat__value">{timeline}</span>
          </div>
        </div>
      )}
    </div>
  </div>

  <!-- Scroll Indicator -->
  {showScrollIndicator && (
    <div class="case-hero__scroll">
      <span>Scroll to explore</span>
      <div class="scroll-line">
        <div class="scroll-dot"></div>
      </div>
    </div>
  )}
</section>

<style>
  .case-hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: flex-end;
    overflow: hidden;
  }

  /* Background */
  .case-hero__bg {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .case-hero__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .case-hero__placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(
      135deg,
      var(--darker) 0%,
      var(--dark) 50%,
      var(--darker) 100%
    );
  }

  .case-hero__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to top,
      var(--darker) 0%,
      rgba(5, 5, 8, 0.8) 30%,
      rgba(5, 5, 8, 0.4) 60%,
      rgba(5, 5, 8, 0.6) 100%
    );
  }

  .case-hero__noise {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.03;
    pointer-events: none;
  }

  /* Content */
  .case-hero__content {
    position: relative;
    z-index: 1;
    width: 100%;
    padding: 8rem 0 6rem;
  }

  .case-hero__container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 4rem;
  }

  /* Meta Pills */
  .case-hero__meta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    animation: fadeInUp 0.6s ease-out both;
  }

  .meta-pill {
    display: inline-flex;
    align-items: center;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 100px;
    font-size: 0.8rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.8);
    letter-spacing: 0.02em;
  }

  .meta-pill--primary {
    background: var(--gradient-pink);
    border-color: transparent;
    color: white;
    font-weight: 600;
  }

  /* Title */
  .case-hero__title {
    font-size: clamp(2.5rem, 6vw, 5rem);
    font-weight: 800;
    letter-spacing: -0.03em;
    line-height: 1.1;
    color: var(--white);
    margin-bottom: 1.5rem;
    max-width: 900px;
    animation: fadeInUp 0.6s ease-out 0.1s both;
  }

  /* Subtitle */
  .case-hero__subtitle {
    font-size: clamp(1.125rem, 2vw, 1.5rem);
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
    max-width: 600px;
    margin-bottom: 2rem;
    animation: fadeInUp 0.6s ease-out 0.2s both;
  }

  /* Services */
  .case-hero__services {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 2rem;
    animation: fadeInUp 0.6s ease-out 0.3s both;
  }

  .service-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.7);
  }

  .service-tag::before {
    content: '';
    width: 6px;
    height: 6px;
    background: var(--neon-cyan);
    border-radius: 50%;
    box-shadow: 0 0 8px var(--neon-cyan);
  }

  /* Quick Stats */
  .case-hero__stats {
    display: flex;
    gap: 2rem;
    animation: fadeInUp 0.6s ease-out 0.4s both;
  }

  .quick-stat {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .quick-stat__label {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: rgba(255, 255, 255, 0.4);
  }

  .quick-stat__value {
    font-size: 1rem;
    font-weight: 600;
    color: var(--white);
  }

  /* Scroll Indicator */
  .case-hero__scroll {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    animation: fadeIn 0.6s ease-out 0.8s both;
  }

  .case-hero__scroll span {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: rgba(255, 255, 255, 0.4);
  }

  .scroll-line {
    width: 1px;
    height: 60px;
    background: rgba(255, 255, 255, 0.15);
    position: relative;
    overflow: hidden;
  }

  .scroll-dot {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;
    height: 12px;
    background: var(--neon-pink);
    border-radius: 3px;
    animation: scrollBounce 2s ease-in-out infinite;
  }

  @keyframes scrollBounce {
    0%, 100% {
      top: 0;
      opacity: 1;
    }
    50% {
      top: calc(100% - 12px);
      opacity: 0.5;
    }
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .case-hero__container {
      padding: 0 2rem;
    }
  }

  @media (max-width: 768px) {
    .case-hero {
      min-height: 90vh;
    }

    .case-hero__content {
      padding: 6rem 0 5rem;
    }

    .case-hero__container {
      padding: 0 1.5rem;
    }

    .case-hero__title {
      margin-bottom: 1rem;
    }

    .case-hero__subtitle {
      font-size: 1rem;
    }

    .case-hero__scroll {
      display: none;
    }
  }
</style>
