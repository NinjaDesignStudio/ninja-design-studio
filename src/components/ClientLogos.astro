---
/**
 * ClientLogos - "Trusted By" / client logo display
 * 
 * Self-contained component that displays client logos in a grid.
 * Uses centralized data from lib/projects.ts
 * 
 * @example
 * <ClientLogos />
 * <ClientLogos title="Trusted by Web3 Leaders" variant="light" />
 */
import { clientLogos } from '../lib/projects';

interface Props {
  /** Section title */
  title?: string;
  /** Background variant */
  variant?: 'dark' | 'light' | 'transparent';
  /** Logo size */
  size?: 'sm' | 'md' | 'lg';
  /** Show as full section with padding */
  asSection?: boolean;
  /** Additional CSS classes */
  class?: string;
}

const {
  title = 'Trusted by Web3 Leaders',
  variant = 'dark',
  size = 'md',
  asSection = true,
  class: className = '',
} = Astro.props;

const heights = {
  sm: 'h-6 md:h-8',
  md: 'h-8 md:h-10',
  lg: 'h-10 md:h-12',
};

const bgClasses = {
  dark: 'bg-darker',
  light: 'bg-white/5',
  transparent: '',
};

const textClasses = {
  dark: 'text-white/40',
  light: 'text-white/50',
  transparent: 'text-white/40',
};
---

{asSection ? (
  <section class:list={['py-12 md:py-16', bgClasses[variant], className]}>
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      {title && (
        <p class:list={['mb-8 text-center text-xs font-semibold uppercase tracking-[0.2em]', textClasses[variant]]}>
          {title}
        </p>
      )}
      <div class="flex flex-wrap items-center justify-center gap-8 md:gap-12 lg:gap-16">
        {clientLogos.map((logo) => (
          <div class="client-logo">
            <img
              src={logo.logo}
              alt={logo.name}
              class:list={[
                'w-auto opacity-40 grayscale transition-all duration-300 hover:opacity-80 hover:grayscale-0',
                heights[size],
              ]}
              loading="lazy"
            />
          </div>
        ))}
      </div>
    </div>
  </section>
) : (
  <div class:list={['text-center', className]}>
    {title && (
      <p class:list={['mb-8 text-xs font-semibold uppercase tracking-[0.2em]', textClasses[variant]]}>
        {title}
      </p>
    )}
    <div class="flex flex-wrap items-center justify-center gap-8 md:gap-12">
      {clientLogos.map((logo) => (
        <div class="client-logo">
          <img
            src={logo.logo}
            alt={logo.name}
            class:list={[
              'w-auto opacity-40 grayscale transition-all duration-300 hover:opacity-80 hover:grayscale-0',
              heights[size],
            ]}
            loading="lazy"
          />
        </div>
      ))}
    </div>
  </div>
)}

<style>
  .client-logo {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .bg-darker {
    background: var(--darker, #050508);
  }
</style>
